{%extends 'base.htm'%}
{%block head%}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(parentsChart);
      google.charts.setOnLoadCallback(ageChart);
      google.charts.setOnLoadCallback(strangerChart);
      google.charts.setOnLoadCallback(policyChart);
      google.charts.setOnLoadCallback(victimChart);
      google.charts.setOnLoadCallback(mediaChart);
      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function parentsChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'parents');
        data.addColumn('number', 'what');
        data.addRows([
          ['Yes', {{parents_yes}}],
          ['No', {{parents_no}}],
          ['Maybe', {{parents_maybe}}],
        ]);

        // Set chart options
        var options = {'title':'Are your parents aware of your profile on such social networking sites?',
                       'width':400,
                       'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('parents_div'));
        chart.draw(data, options);
      }
      function ageChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'age');
        data.addColumn('number', 'do they know');
        data.addRows([
          ['Yes', {{age_yes}}],
          ['No', {{age_no}}],
          ["Can't say", {{age_cant}}],
        ]);

        // Set chart options
        var options = {'title':'Are you aware of the age limits for using various social networking sites?',
                       'width':400,
                       'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('age_div'));
        chart.draw(data, options);
      }
      function strangerChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'stranger');
        data.addColumn('number', 'friend');
        data.addRows([
          ['Yes', {{stranger_yes}}],
          ['No', {{stranger_no}}],
        ]);

        // Set chart options
        var options = {'title':'Do you accept friend requests from strangers?',
                       'width':400,
                       'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('stranger_div'));
        chart.draw(data, options);
      }
      function policyChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'yes/no');
        data.addColumn('number', 'number');
        data.addRows([
          ['Yes', {{policies_yes}}],
          ['No', {{policies_no}}],
          ["Can't say", {{policies_cant}}],
        ]);

        // Set chart options
        var options = {'title':'Do you think that privacy policies are effective in social networking sites?',
                       'width':400,
                       'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('policies_div'));
        chart.draw(data, options);
      }
      function victimChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'victim');
        data.addColumn('number', 'number');
        data.addRows([
          ['Yes', {{victim_yes}}],
          ['No', {{victim_no}}],
          ["Prefer not to say", {{victim_prefer}}],
        ]);

        // Set chart options
        var options = {'title':'Have you ever been a victim of cyber crime?',
                       'width':400,
                       'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('victim_div'));
        chart.draw(data, options);
      }
      function mediaChart() {
        var data = google.visualization.arrayToDataTable([
          ['name', 'number', { role: 'style' }],
          ['Facebook', {{facebook}} , '#092085'],
          ['Snapchat', {{snapchat}} , '#eeff00'],
          ['Twitter', {{twitter}} , 'red'],
          ['Instagram' , {{instagram}} , '#d916bf'],
          ['Youtube' , {{youtube}} , '#eb3434'],
          ['WhatsApp' , {{whatsapp}} , '#16d923'],
          ['Discord' , {{discord}} , '#5658e8'],
          ['Other' , {{other}} , '#000000'],
        ]);

        // Set chart options
        var options = {'title':'Please select all the social networking sites for which you have created a profile',
                       'width':400,
                       'height':300,
                        'legend' : 'none'};

        // Instantiate and draw our chart, passing in some options.
        var barchart = new google.visualization.BarChart(document.getElementById('media_div'));
        barchart.draw(data, options);
      }
    </script>
  {%endblock%}

{%block content%}
    <table>
      <tr>
        <td><div id="parents_div" style="border: 1px solid #ccc"></div></td>
        <td><div id="stranger_div" style="border: 1px solid #ccc"></div></td>
        <td><div id="victim_div" style="border: 1px solid #ccc"></div></td>
      </tr>
      <tr>
        <td><div id="age_div" style="border: 1px solid #ccc"></div></td>
        <td><div id="policies_div" style="border: 1px solid #ccc"></div></td>
        <td><div id="media_div" style="border: 1px solid #ccc"></div></td>
      </tr>
    </table>
{%endblock%}
